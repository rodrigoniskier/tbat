<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√≥dulo: O Texto do Antigo Testamento</title>

    <style>
        :root {
            --bg-dark: #1A202C;
            --bg-medium: #2D3748;
            --bg-light: #4A5568;
            --text-primary: #E2E8F0;
            --text-secondary: #A0AEC0;
            --accent-primary: #4FD1C5;
            --accent-secondary: #81E6D9;
            --success: #68D391;
            --error: #FC8181;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* --- Reset e Configura√ß√µes Globais --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-primary);
            font-family: var(--font-family);
            line-height: 1.7;
            padding: 20px; /* Adiciona um respiro geral */
        }

        /* --- Estrutura de Views do M√≥dulo --- */
        .module-view {
            display: none;
            width: 100%;
            animation: fadeIn 0.5s ease-in-out;
        }
        .module-view.visible {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- Barra de Progresso (opcional, para artigos longos) --- */
        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            z-index: 1000;
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--accent-primary);
        }

        /* --- Estilos do Menu Local do M√≥dulo --- */
        .module-header {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }
        .module-header-title {
            font-size: 2.2rem;
            font-weight: 700;
        }
        .module-header-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }
        #module-menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        .menu-item {
            background-color: var(--bg-medium);
            border: none;
            border-left: 5px solid var(--accent-primary);
            color: var(--text-primary);
            padding: 20px;
            border-radius: 12px;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .menu-item:hover {
            background-color: var(--bg-light);
            transform: translateY(-3px);
        }
        .menu-item.interactive { border-left-color: var(--accent-secondary); }
        .menu-emoji { font-size: 1.5rem; }

        /* --- Bot√£o "Voltar aos T√≥picos" e Conte√∫do --- */
        #back-to-module-menu {
            background: none; border: none;
            color: var(--accent-primary);
            font-size: 1.1rem; font-weight: bold;
            cursor: pointer; margin-bottom: 20px;
        }
        #back-to-module-menu:hover { text-decoration: underline; }

        /* --- Estilos de Conte√∫do (Id√™nticos ao c√≥digo anterior) --- */
        .content-title, .paragraph, .list-container, .accordion-button, .accordion-panel, .flashcard-container, .quiz-options {
            /* Todos os estilos de conte√∫do, quiz e flashcards do c√≥digo anterior v√™m aqui. */
            /* Eles permanecem os mesmos, pois estilizam os elementos de conte√∫do. */
        }
        .content-title { font-size: 2rem; font-weight: 700; margin-bottom: 20px; border-bottom: 2px solid var(--bg-light); padding-bottom: 15px; }
        .paragraph { margin-bottom: 16px; font-size: 1.1rem; text-align: justify; }
        .list-container { margin: 20px 0; padding-left: 20px; }
        .list-item { display: flex; gap: 10px; margin-bottom: 10px; text-align: justify; }
        .bullet-point { color: var(--accent-primary); font-weight: bold; }
        .accordion-button { background-color: var(--bg-medium); color: var(--text-primary); cursor: pointer; padding: 18px; width: 100%; border: none; text-align: left; font-size: 1.2rem; font-weight: 600; transition: 0.4s; border-radius: 8px; margin-top: 20px; display: flex; justify-content: space-between; align-items: center; }
        .accordion-button:hover, .accordion-button.active { background-color: var(--bg-light); }
        .accordion-button::after { content: '+'; color: var(--accent-primary); font-weight: bold; font-size: 1.5rem; }
        .accordion-button.active::after { content: "‚àí"; }
        .accordion-panel { padding: 0 18px; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; border-left: 2px solid var(--bg-light); margin-left: 10px; }
        .flashcard-container { display: flex; flex-direction: column; align-items: center; justify-content: center; perspective: 1000px; padding-top: 40px; }
        .flashcard { width: 100%; max-width: 500px; height: 300px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .flashcard.is-flipped { transform: rotateY(180deg); }
        .flashcard-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; background: var(--bg-medium); border-radius: 20px; display: flex; align-items: center; justify-content: center; padding: 20px; text-align: center; font-size: 1.5rem; border: 2px solid var(--bg-light); }
        .flashcard-back { transform: rotateY(180deg); font-size: 1.1rem; align-items: flex-start; }
        .flashcard-nav { margin-top: 30px; display: flex; gap: 20px; }
        .nav-button { background-color: var(--bg-medium); color: var(--text-primary); border: 2px solid var(--accent-primary); border-radius: 8px; padding: 10px 20px; font-size: 1rem; font-weight: bold; cursor: pointer; }
        .nav-button:hover { background-color: var(--accent-primary); color: var(--bg-dark); }
        #flashcard-counter { margin-top: 15px; color: var(--text-secondary); }
        #quiz-question { font-size: 1.5rem; text-align: center; margin-bottom: 30px; }
        .quiz-options { display: flex; flex-direction: column; gap: 15px; }
        .quiz-option { background-color: var(--bg-medium); border: 2px solid var(--bg-light); color: var(--text-primary); border-radius: 10px; padding: 15px; width: 100%; font-size: 1.1rem; cursor: pointer; }
        .quiz-option:hover { background-color: var(--bg-light); }
        .quiz-option.correct { background-color: var(--success); border-color: var(--success); color: var(--bg-dark); font-weight: bold; }
        .quiz-option.incorrect { background-color: var(--error); border-color: var(--error); color: var(--bg-dark); font-weight: bold; }
        .quiz-option:disabled { cursor: not-allowed; opacity: 0.7; }
        #quiz-feedback { text-align: center; margin-top: 20px; font-size: 1.2rem; font-weight: bold; height: 30px; }
        #quiz-results { text-align: center; display: none; }
        #quiz-score { font-size: 2.5rem; margin: 20px 0; color: var(--accent-primary); }
    </style>
</head>
<body>
    <div id="progress-bar-container"><div id="progress-bar"></div></div>

    <div id="module-menu-view" class="module-view visible">
        <header class="module-header">
            <h1 class="module-header-title">‚úçÔ∏è M√≥dulo: O Texto do Antigo Testamento</h1>
            <p class="module-header-subtitle">Navegue pelos t√≥picos, flashcards e quiz desta se√ß√£o.</p>
        </header>
        <div id="module-menu-grid">
            </div>
    </div>

    <div id="module-content-view" class="module-view">
        <button id="back-to-module-menu">‚Äπ Voltar aos T√≥picos do M√≥dulo</button>
        <div id="module-content-wrapper">
             </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DADOS DO M√ìDULO (Id√™nticos ao c√≥digo anterior) ---
            const contentData = { "1": { emoji: "ü§î", title: "1. Por que se preocupar com o ‚Äútexto‚Äù do Antigo Testamento?", content: [ "A base de toda a f√© crist√£ est√° nas Escrituras...", "Por√©m, h√° um grande desafio...", "A resposta exige uma an√°lise..." ] }, "2": { emoji: "üî¨", title: "2. O que √© cr√≠tica textual? Por que ela √© necess√°ria?", content: [ "A cr√≠tica textual √© uma disciplina...", "Ao contr√°rio do que se pensa...", "A cr√≠tica textual busca identificar...", "Por que isso √© importante?...", "Portanto, a cr√≠tica textual..." ] }, "3": { emoji: "üìú", title: "3. Panorama hist√≥rico da forma√ß√£o do texto", subsections: { "a": { title: "a) Dos Dez Mandamentos...", content: [ "Este √© o per√≠odo mais formativo...", "Por exemplo...", "Nesse processo...", { "type": "list", "items": ["Tend√™ncia √† preserva√ß√£o...", "Tend√™ncia √† revis√£o..."] }, "No entanto..." ] }, "b": { title: "b) Do fechamento do c√¢non...", content: [ "Ap√≥s a forma√ß√£o...", "Os Manuscritos do Mar Morto...", "Outro destaque...", "A qualidade dessas tradu√ß√µes..." ] }, "c": { title: "c) Do texto aberto ao texto massor√©tico...", content: [ "Ap√≥s a destrui√ß√£o...", "Os massoretas...", { "type": "list", "items": ["O sistema de pontua√ß√£o...", "As notas massor√©ticas...", "A divis√£o de vers√≠culos...", "Os conhecidos sistemas..."] }, "O texto massor√©tico..." ] }, "d": { title: "d) Vers√µes antigas...", content: [ "Durante todo o per√≠odo...", "Essas vers√µes s√£o importantes..." ] } } }, "4": { emoji: "üîç", title: "4. Tipos de variantes e erros no texto", subsections: { "a": { title: "Erros acidentais", content: [{ "type": "list", "items": [ "Confus√£o de consoantes...", "Haplografia...", "Ditografia...", "Met√°tese...", "Divis√£o diferente..." ]}] }, "b": { title: "Altera√ß√µes intencionais", content: [{ "type": "list", "items": [ "Moderniza√ß√£o lingu√≠stica...", "Adapta√ß√µes contextuais...", "Eufemismos...", "Acr√©scimos explicativos...", "Altera√ß√µes teol√≥gicas..." ]}] } } }, "5": { emoji: "üõ†Ô∏è", title: "5. A cr√≠tica textual na pr√°tica", content: [ "A cr√≠tica textual se divide...", { "type": "list", "items": [ "Cr√≠tica externa...", "Cr√≠tica interna..." ]}, "O objetivo final..." ] }, "6": { emoji: "üõ°Ô∏è", title: "6. A confiabilidade do Texto do AT", content: [ "Diante de toda essa complexidade...", "O estudo exaustivo...", { "type": "list", "items": [ "H√° forte tend√™ncia...", "A tradi√ß√£o do Texto Massor√©tico...", "A maioria das variantes...", "As diferen√ßas servem √† cr√≠tica...", "O Novo Testamento e os pr√≥prios ap√≥stolos...", "A f√© reformada...", "O texto preservado..." ]} ] }, "7": { emoji: "üôè", title: "7. Reflex√£o final: a provid√™ncia de Deus", content: [ "√â importante lembrar...", "Seja voc√™ um estudante..." ] } };
            const flashcardData = [ { term: "Cr√≠tica Textual", definition: "Disciplina que compara c√≥pias de manuscritos antigos para determinar a forma mais prov√°vel do texto original." }, { term: "Texto Massor√©tico (TM)", definition: "O texto hebraico padr√£o do Antigo Testamento, produzido por escribas judeus (massoretas) entre os s√©culos VI e X d.C." }, { term: "Septuaginta (LXX)", definition: "A tradu√ß√£o grega do Antigo Testamento, iniciada em Alexandria por volta de 285 a.C." }, { term: "Haplografia", definition: "Erro de escriba onde uma letra, s√≠laba ou palavra √© omitida acidentalmente." }, { term: "Ditografia", definition: "Erro de escriba onde uma letra, s√≠laba ou palavra √© duplicada acidentalmente." }, { term: "Manuscritos do Mar Morto", definition: "Cole√ß√£o de textos antigos que incluem as mais antigas c√≥pias conhecidas de livros do Antigo Testamento." }, { term: "Kethiv-Qere", definition: "Sistema massor√©tico que indica uma variante de leitura tradicional (Qere) para uma palavra escrita (Kethiv)." } ];
            const quizData = [ { question: "Qual o principal objetivo da Cr√≠tica Textual do AT?", options: [ { text: "Provar que a B√≠blia n√£o tem erros.", correct: false }, { text: "Determinar a forma mais antiga e prov√°vel do texto.", correct: true }, { text: "Traduzir a B√≠blia para novas l√≠nguas.", correct: false } ]}, { question: "O que √© a Septuaginta (LXX)?", options: [ { text: "O texto original em hebraico.", correct: false }, { text: "A tradu√ß√£o grega do Antigo Testamento.", correct: true }, { text: "Uma vers√£o em latim.", correct: false } ]}, { question: "O Texto Massor√©tico foi produzido principalmente entre quais s√©culos?", options: [ { text: "VI e X d.C.", correct: true }, { text: "I e V d.C.", correct: false }, { text: "V a.C. e I a.C.", correct: false } ]}, { question: "Pular uma palavra ao copiar um manuscrito √© um erro chamado:", options: [ { text: "Haplografia", correct: true }, { text: "Ditografia", correct: false }, { text: "Met√°tese", correct: false } ]}, { question: "Qual descoberta foi crucial para confirmar a fidelidade do Texto Massor√©tico?", options: [ { text: "A Pedra de Roseta.", correct: false }, { text: "Os Manuscritos do Mar Morto.", correct: true }, { text: "O C√≥digo de Hamurabi.", correct: false } ]} ];
            
            // --- Seletores do DOM do M√≥dulo ---
            const moduleViews = document.querySelectorAll('.module-view');
            const moduleMenuGrid = document.getElementById('module-menu-grid');
            const backToModuleMenuButton = document.getElementById('back-to-module-menu');
            const moduleContentWrapper = document.getElementById('module-content-wrapper');
            
            // --- L√≥gica de Navega√ß√£o Local ---
            function showModuleView(viewId) {
                moduleViews.forEach(view => view.classList.remove('visible'));
                document.getElementById(viewId).classList.add('visible');
                window.scrollTo(0, 0); // Rola para o topo ao trocar de view
            }

            function populateModuleMenu() {
                // Artigos
                Object.keys(contentData).forEach(key => {
                    const item = contentData[key];
                    const button = document.createElement('button');
                    button.className = 'menu-item';
                    button.innerHTML = `<span class="menu-emoji">${item.emoji}</span> <span>${item.title}</span>`;
                    button.addEventListener('click', () => {
                        renderContent(key);
                        showModuleView('module-content-view');
                    });
                    moduleMenuGrid.appendChild(button);
                });

                // Itens Interativos
                const interactiveItems = [
                    { emoji: 'üß†', title: 'Flashcards de Conceitos', action: initFlashcards },
                    { emoji: '‚úÖ', title: 'Quiz de Conhecimento', action: initQuiz }
                ];
                interactiveItems.forEach(item => {
                    const button = document.createElement('button');
                    button.className = 'menu-item interactive';
                    button.innerHTML = `<span class="menu-emoji">${item.emoji}</span> <span>${item.title}</span>`;
                    button.addEventListener('click', () => {
                        item.action();
                        showModuleView('module-content-view');
                    });
                    moduleMenuGrid.appendChild(button);
                });
            }

            // --- Fun√ß√µes de Renderiza√ß√£o de Conte√∫do ---
            function renderContent(key) {
                // (Esta fun√ß√£o e as de quiz/flashcards s√£o praticamente id√™nticas √†s do c√≥digo anterior,
                // apenas o local onde renderizam o HTML muda para 'moduleContentWrapper')
                const item = contentData[key];
                moduleContentWrapper.innerHTML = ''; // Limpa o conte√∫do anterior

                const titleEl = document.createElement('h2');
                titleEl.className = 'content-title';
                titleEl.textContent = item.title;
                moduleContentWrapper.appendChild(titleEl);

                const bodyEl = document.createElement('div');
                if(item.content) renderContentItems(item.content, bodyEl);
                if(item.subsections) {
                     Object.values(item.subsections).forEach(sub => {
                        const button = document.createElement('button');
                        button.className = 'accordion-button';
                        button.textContent = sub.title;
                        const panel = document.createElement('div');
                        panel.className = 'accordion-panel';
                        renderContentItems(sub.content, panel);
                        bodyEl.appendChild(button);
                        bodyEl.appendChild(panel);
                        button.addEventListener('click', () => {
                            button.classList.toggle('active');
                            panel.style.maxHeight = button.classList.contains('active') ? panel.scrollHeight + "px" : null;
                        });
                    });
                }
                moduleContentWrapper.appendChild(bodyEl);
            }

            function renderContentItems(contentArray, parentElement) {
                contentArray.forEach(item => { /* ...l√≥gica id√™ntica para renderizar par√°grafos e listas... */
                    if (typeof item === 'string') { const p = document.createElement('p'); p.className = 'paragraph'; p.textContent = item; parentElement.appendChild(p); } else if (item.type === 'list') { const listContainer = document.createElement('div'); listContainer.className = 'list-container'; item.items.forEach(listItemText => { const listItem = document.createElement('div'); listItem.className = 'list-item'; listItem.innerHTML = `<span class="bullet-point">‚Ä¢</span><span>${listItemText}</span>`; listContainer.appendChild(listItem); }); parentElement.appendChild(listContainer); }
                });
            }
            
            function initFlashcards() { /* ...l√≥gica id√™ntica para iniciar flashcards... */ 
                moduleContentWrapper.innerHTML = `<div class="flashcard-container"><div id="flashcard" class="flashcard"><div id="flashcard-front" class="flashcard-face"></div><div id="flashcard-back" class="flashcard-face flashcard-back"></div></div><div id="flashcard-counter"></div><div class="flashcard-nav"><button id="prev-flashcard" class="nav-button">Anterior</button><button id="next-flashcard" class="nav-button">Pr√≥ximo</button></div></div>`;
                let currentFlashcardIndex = 0;
                const render = () => { const cardData = flashcardData[currentFlashcardIndex]; document.getElementById('flashcard-front').textContent = cardData.term; document.getElementById('flashcard-back').textContent = cardData.definition; document.getElementById('flashcard-counter').textContent = `${currentFlashcardIndex + 1} / ${flashcardData.length}`; document.getElementById('flashcard').classList.remove('is-flipped'); };
                document.getElementById('flashcard').addEventListener('click', (e) => e.currentTarget.classList.toggle('is-flipped'));
                document.getElementById('next-flashcard').addEventListener('click', () => { currentFlashcardIndex = (currentFlashcardIndex + 1) % flashcardData.length; render(); });
                document.getElementById('prev-flashcard').addEventListener('click', () => { currentFlashcardIndex = (currentFlashcardIndex - 1 + flashcardData.length) % flashcardData.length; render(); });
                render();
            }

            function initQuiz() { /* ...l√≥gica id√™ntica para iniciar quiz... */ 
                moduleContentWrapper.innerHTML = `<div id="quiz-content"><h2 id="quiz-question"></h2><div id="quiz-options" class="quiz-options"></div><p id="quiz-feedback"></p></div><div id="quiz-results" style="display:none;"><h2>Quiz Conclu√≠do!</h2><p>Sua pontua√ß√£o final √©:</p><p id="quiz-score"></p><button id="retry-quiz" class="nav-button">Tentar Novamente</button></div>`;
                let currentQuestionIndex = 0, score = 0;
                const renderQ = () => { const q = quizData[currentQuestionIndex]; document.getElementById('quiz-question').textContent = q.question; const optsEl = document.getElementById('quiz-options'); optsEl.innerHTML = ''; document.getElementById('quiz-feedback').textContent = ''; q.options.forEach(opt => { const btn = document.createElement('button'); btn.className = 'quiz-option'; btn.textContent = opt.text; btn.addEventListener('click', () => { document.querySelectorAll('.quiz-option').forEach(b => b.disabled = true); const feedback = document.getElementById('quiz-feedback'); if(opt.correct){ btn.classList.add('correct'); feedback.textContent="Correto! ‚úÖ"; feedback.style.color='var(--success)'; score++; } else { btn.classList.add('incorrect'); feedback.textContent="Incorreto. ‚ùå"; feedback.style.color='var(--error)'; } setTimeout(() => { currentQuestionIndex++; (currentQuestionIndex < quizData.length) ? renderQ() : (() => { document.getElementById('quiz-content').style.display='none'; document.getElementById('quiz-results').style.display='block'; document.getElementById('quiz-score').textContent=`${score} de ${quizData.length}`; })(); }, 1500); }); optsEl.appendChild(btn); }); };
                document.getElementById('retry-quiz').addEventListener('click', initQuiz);
                renderQ();
            }
            
            // --- Event Listeners ---
            backToModuleMenuButton.addEventListener('click', () => showModuleView('module-menu-view'));
            window.addEventListener('scroll', () => {
                const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight;
                if (scrollableHeight > 0) {
                    const scrolledPercentage = (window.scrollY / scrollableHeight) * 100;
                    document.getElementById('progress-bar').style.width = `${scrolledPercentage}%`;
                } else {
                    document.getElementById('progress-bar').style.width = '0%';
                }
            });

            // --- Inicializa√ß√£o do M√≥dulo ---
            populateModuleMenu();
        });
    </script>
</body>
</html>
